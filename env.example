# üöÄ CRM Production Environment Variables
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç —Ñ–∞–π–ª –≤ .env –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–¥ –≤–∞—à–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ

# =============================================================================
# –û–°–ù–û–í–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò DJANGO
# =============================================================================

# –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á Django (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∏–∑–º–µ–Ω–∏—Ç–µ!)
SECRET_KEY=your-super-secret-key-change-this-immediately

# –†–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ (False –¥–ª—è production)
DEBUG=False

# –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ —Ö–æ—Å—Ç—ã
ALLOWED_HOSTS=crm.lead-schem.ru,www.crm.lead-schem.ru,localhost,127.0.0.1

# CSRF –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏
CSRF_TRUSTED_ORIGINS=https://crm.lead-schem.ru,https://www.crm.lead-schem.ru

# =============================================================================
# –ù–ê–°–¢–†–û–ô–ö–ò –ë–ê–ó–´ –î–ê–ù–ù–´–•
# =============================================================================

# PostgreSQL
DB_NAME=crm_production
DB_USER=crm_user
DB_PASSWORD=your-secure-database-password
DB_HOST=postgres
DB_PORT=5432

# URL –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤—ã—à–µ)
DATABASE_URL=postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}

# =============================================================================
# REDIS –ò –ö–≠–®
# =============================================================================

# Redis URL
REDIS_URL=redis://redis:6379/0

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫—ç—à–∞
CACHE_BACKEND=django_redis.cache.RedisCache
CACHE_LOCATION=${REDIS_URL}

# =============================================================================
# CORS –ò –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨
# =============================================================================

# –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–ª—è CORS
CORS_ALLOWED_ORIGINS=https://crm.lead-schem.ru,https://www.crm.lead-schem.ru

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
CORS_ALLOW_CREDENTIALS=True
CORS_ALLOWED_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With

# =============================================================================
# JWT –ê–£–¢–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–Ø
# =============================================================================

# JWT –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
JWT_SECRET_KEY=${SECRET_KEY}
JWT_ACCESS_TOKEN_LIFETIME=60
JWT_REFRESH_TOKEN_LIFETIME=1440

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ cookies
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True
SESSION_COOKIE_HTTPONLY=True
CSRF_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=Lax
CSRF_COOKIE_SAMESITE=Lax

# =============================================================================
# EMAIL –ù–ê–°–¢–†–û–ô–ö–ò
# =============================================================================

# Email –¥–ª—è SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ (Let's Encrypt)
CERTBOT_EMAIL=your-email@example.com

# SMTP –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã)
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password

# =============================================================================
# –§–ê–ô–õ–´ –ò –ú–ï–î–ò–ê
# =============================================================================

# –ü—É—Ç–∏ –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
STATIC_URL=/static/
STATIC_ROOT=/app/staticfiles/

# –ü—É—Ç–∏ –¥–ª—è –º–µ–¥–∏–∞ —Ñ–∞–π–ª–æ–≤
MEDIA_URL=/media/
MEDIA_ROOT=/app/media/

# =============================================================================
# –õ–û–ì–ò–†–û–í–ê–ù–ò–ï
# =============================================================================

# –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
LOG_LEVEL=INFO

# –ü—É—Ç—å –∫ –ª–æ–≥–∞–º
LOG_FILE=/app/logs/crm.log

# =============================================================================
# –ú–û–ù–ò–¢–û–†–ò–ù–ì
# =============================================================================

# Prometheus –º–µ—Ç—Ä–∏–∫–∏
PROMETHEUS_EXPORT_MIGRATIONS=True
PROMETHEUS_EXPORT_ADDRESS=0.0.0.0
PROMETHEUS_EXPORT_PORT=9090

# =============================================================================
# –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò
# =============================================================================

# –í—Ä–µ–º–µ–Ω–Ω–∞—è –∑–æ–Ω–∞
TIME_ZONE=Europe/Moscow

# –Ø–∑—ã–∫
LANGUAGE_CODE=ru-ru

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Å—Å–∏–π
SESSION_ENGINE=django.contrib.sessions.backends.cache
SESSION_CACHE_ALIAS=default

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Celery (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
CELERY_BROKER_URL=${REDIS_URL}
CELERY_RESULT_BACKEND=${REDIS_URL}

# =============================================================================
# –ü–†–û–î–ê–ö–®–ï–ù –ù–ê–°–¢–†–û–ô–ö–ò
# =============================================================================

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
SECURE_BROWSER_XSS_FILTER=True
SECURE_CONTENT_TYPE_NOSNIFF=True
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_HSTS_PRELOAD=True
X_FRAME_OPTIONS=DENY
SECURE_SSL_REDIRECT=True

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
SECURE_REFERRER_POLICY=strict-origin-when-cross-origin
SECURE_CROSS_ORIGIN_OPENER_POLICY=same-origin
SECURE_CROSS_ORIGIN_EMBEDDER_POLICY=require-corp

# =============================================================================
# –ü–†–ò–ú–ï–ß–ê–ù–ò–Ø
# =============================================================================

# 1. –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –∏–∑–º–µ–Ω–∏—Ç–µ SECRET_KEY –Ω–∞ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π
# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ DEBUG=False –¥–ª—è production
# 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ ALLOWED_HOSTS
# 4. –ò–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
# 5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
# 6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CORS
# 7. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ email –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

# Django Settings
ENVIRONMENT=production

# Mango Office API Settings
MANGO_API_KEY=your-mango-api-key-here
MANGO_API_SALT=your-mango-api-salt-here

# Mango Office Email Settings
MANGO_EMAIL=your-email@example.com
MANGO_EMAIL_PASSWORD=your-email-password-here
MANGO_IMAP_SERVER=imap.gmail.com
MANGO_IMAP_PORT=993
MANGO_DOWNLOAD_DIR=media/audio

# Telegram Settings
TELEGRAM_BOT_TOKEN=your-telegram-bot-token-here
TELEGRAM_CHAT_ID=your-telegram-chat-id-here
TELEGRAM_ALERTS_ENABLED=True
TELEGRAM_ERROR_ALERTS=True
TELEGRAM_BUSINESS_ALERTS=True

# Email Settings for Alerts
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-smtp-user@example.com
SMTP_PASSWORD=your-smtp-password-here
ALERT_EMAILS=admin@example.com,security@example.com

# Monitoring Settings
ALERTS_ENABLED=True
ALERT_EMAIL_ENABLED=False
ALERT_WEBHOOK_URL=
ALERT_WEBHOOK_HEADERS={}
MONITORING_ENDPOINTS_SECURE=False
MONITORING_API_KEY=your-monitoring-api-key-here

# Performance Thresholds
SLOW_REQUEST_THRESHOLD=5.0
HIGH_QUERY_COUNT_THRESHOLD=50
RATE_LIMIT_THRESHOLD=100
CPU_THRESHOLD=80.0
MEMORY_THRESHOLD=90.0
DISK_THRESHOLD=90.0

# Health Check Settings
HEALTH_CHECK_CACHE_TIMEOUT=300
HEALTH_CHECK_DETAILED_CACHE_TIMEOUT=60 